<html>
<meta charset="utf-8">

<head>
	<script src="./rule/d3.v3.min.js" charset="utf-8"></script>
</head>

<body>
	<h4>请按一下ESC、Enter和F2试试键盘交互……</h4>
	<script type="text/javascript" language=JavaScript charset="UTF-8">
		var width = 500, height = 500;
		var svg = d3.select("body")
			.append("svg")
			.attr("width", width)
			.attr("height", height);
		/*------声明cx、cy变量，以便后面进行调用------*/
		var cx = 100;
		var cy = 100;
		/*------声明cx、cy变量，以便后面进行调用------*/
		var circle = svg.append("circle")
			.attr("cx", cx)					//对于svg画布上的圆，应当注意的是它是通过指定cx、cy圆心坐标来定位的
			.attr("cy", cy)
			.attr("r", 45)
			.style("fill", "green");

		document.onkeydown = function (event) {
			var e = event || window.event || arguments.callee.caller.arguments[0];
			if (e && e.keyCode == 27) { // 按 Esc 
				//要做的事情
				alert('KeyCode=27（ESC）');
				circle.style("fill", "yellow")
				/*------调用动画，改变圆心cx、cy坐标进行移位------*/
				var movement = d3.select("circle")
					.attr("cx", cx)
					.attr("cy", cy)
					.transition()
					.duration(2000)
					.ease("elastic")
					.attr("cx", cx*2+cy)
					.attr("cy", cy*2+cx);
				/*------调用动画，改变圆心cx、cy坐标进行移位------*/
			}
			if (e && e.keyCode == 113) { // 按 F2 
				//要做的事情
				alert('KeyCode=113（F2）');
			}
			if (e && e.keyCode == 13) { // enter 键
				//要做的事情
				alert('KeyCode=13（Enter）');
			}
		}; 
	</script>
</body>

</html>